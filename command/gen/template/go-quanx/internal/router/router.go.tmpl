package router

import (
	"github.com/gin-gonic/gin"
	"github.com/go-xuan/quanx/app/ginx"
	"github.com/go-xuan/quanx/server/gormx"

	"{{.App}}/internal/controller"
	"{{.App}}/internal/model/entity"
)

func BindApiRouter(router *gin.RouterGroup) {
	db := gormx.DB()

    // 业务API接口
    {{- range $model := .Models}}
    router.POST("{{path $model.Name}}/demo", controller.{{uc $model.Name}}DemoHandler)
    {{- end}}

    // 增删改查-通用API接口实现
	{{- range $model := .Models}}
	ginx.NewCrudApi[entity.{{uc $model.Name}}](router.Group("{{path $model.Name}}"), db) // {{$model.Comment}}-增删改查
	{{- end}}
}
